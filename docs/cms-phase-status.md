# CMS 단계 상태 점검(Reality Check)

최종 업데이트: 2026-02-14

## 결론

이 프로젝트는 현재 **기존 운영 CMS를 대체할 준비가 아직 되지 않았습니다.**
현재 상태는 아래처럼 보는 것이 맞습니다.

- Phase A: **부분 완료**
- Phase B: **부분 완료**
- 운영 대체 준비도: **미충족**

---

## 1) 완료 기준(Definition of Done, DoD)

### Phase A (핵심 관리자 워크플로우)

A. 인증/Auth 및 권한/RBAC

- `/admin` 라우트가 보호되어야 함
- `publisher` / `editor` 권한 경계가 모든 쓰기 동작에 일관되게 적용되어야 함
- 세션 만료/인증 실패 상태를 사용자에게 명확히 안내해야 함

B. 콘텐츠 라이프사이클

- 생성/수정/저장/발행 흐름이 안정적으로 동작해야 함
- Preview 동작이 예측 가능하고 보안적으로 안전해야 함
- 리비전 이력이 완전하게 남고, 복원이 안전해야 함

C. 동시성 및 안전성

- 실제 다중 탭/다중 사용자 환경에서 stale write 감지가 동작해야 함
- 파괴적 동작(restore/publish/delete)은 명시적 확인 절차를 가져야 함

D. 관측 가능성(Observability)

- 오류가 조치 가능한 형태로 노출되어야 함
- 핵심 감사 이벤트(audit action)를 추적할 수 있어야 함

### Phase B (에디터 UX 및 생산성)

A. 에디터 신뢰성

- 일반 웹페이지에서 붙여넣은 콘텐츠에도 서식 동작이 결정적으로 적용되어야 함
- 테이블 액션(정렬/배경/보더 두께/보더 색)이 일관되게 적용되어야 함

B. 에디터 사용성

- 첫 사용 시 툴바 정보구조가 직관적으로 이해되어야 함
- 컨텍스트 액션(이미지/테이블)이 쉽게 발견 가능해야 함

C. 저장 충실도

- 사용자가 편집한 내용 == 저장된 내용 == 렌더링 결과가 일치해야 함

D. 회귀 신뢰도

- 반복 가능한 QA 체크리스트가 있어야 함
- 핵심 편집 흐름에 대한 테스트(unit/integration/e2e)가 존재해야 함

---

## 2) 현재 갭 분석(Current Gap Assessment)

## Phase A 갭

- README에는 "완료" 표현이 있으나, 완료 판정 기준이 공식화되어 있지 않음
- Restore 확인 UX가 늦게 도입되어 안정성 검증이 부족함
- 충돌/stale 시나리오에 대한 UX와 스트레스 검증이 더 필요함
- 운영 가드레일(감사 가시성, 오류 텔레메트리)이 최소 수준임

## Phase B 갭

- 툴바 UX가 여전히 복잡하고 비기술 편집자에게 인지 부담이 큼
- 붙여넣기 유입 콘텐츠에서 서식 엣지 케이스가 간헐적으로 발생함
- 테이블 보더 동작이 반복 수정된 이력이 있어 구현 취약성이 드러남
- 에디터 컴포넌트 복잡도가 높아 회귀 리스크가 큼

---

## 3) 왜 아직 CMS 대체 준비가 아닌가

CMS 대체는 단순히 버튼 기능이 있는지 여부로 판단할 수 없습니다.
아래 네 가지가 동시에 충족되어야 합니다.

- 일관성(Consistency): 항상 같은 입력에 같은 결과
- 복구 가능성(Recoverability): 안전한 복원/충돌 처리
- 운영 가능성(Operability): 오류 가시성, 감사 가능성, 지원 가능성
- 유지보수성(Maintainability): 모듈화 + 테스트 커버리지

현재 구현은 위 4가지 모두에서 갭이 남아 있습니다.

---

## 4) Phase A/B 완료 선언을 위한 Exit Criteria

아래 항목이 모두 충족되어야 완료로 선언합니다.

1. paste/format/table 흐름의 P0/P1 신뢰성 이슈가 0건일 것
2. restore/publish/delete가 명시적 확인 + 역할 검증으로 보호될 것
3. 2개 세션 동시 편집 stale 시나리오 테스트를 통과할 것
4. 클린 환경에서 QA 체크리스트를 재현 가능하게 통과할 것
5. 핵심 에디터 흐름에 자동화 테스트(최소 smoke e2e)가 있을 것
6. 문서 상태가 희망사항이 아닌 검증 결과 기반으로 업데이트될 것

---

## 5) 우선순위 실행 계획

### P0 (즉시)

- 테이블 스타일 적용 파이프라인 안정화(단일 진실 원천, fallback 드리프트 제거)
- 붙여넣기 콘텐츠에서 text color/highlight 동작 안정화
- 파괴적 동작에 대한 확인 UX 및 에러 메시지 고정

### P1 (다음)

- 에디터 표면 복잡도 감소(그룹형 툴바, 컨텍스트 우선 액션)
- paste + table + image + restore 회귀 테스트 추가
- 에디터 명령 실패 지점 텔레메트리 추가

### P2 (후속)

- 비기술 편집자 대상 UX 디테일 개선(라벨/기본값/가이드)
- 문서 정리 및 릴리스 체크리스트 자동화

---

## 6) 상태 선언 거버넌스 규칙

정의된 Exit Criteria가 검증되고 근거가 연결되기 전에는,
단계를 "complete"로 표기하지 않습니다.

부분 충족 시에는 아래 상태만 사용합니다.

- "진행 중(In progress)"
- "기능 구현 완료, 안정화 진행 중(Feature-complete, hardening ongoing)"
- "신뢰성/테스트 갭으로 차단됨(Blocked by reliability/test gaps)"

---

## 7) 실행 체크리스트

아래 체크리스트는 실제 완료 판정에 사용하는 운영 체크리스트입니다.

### Phase A 체크리스트

#### A. 인증/권한

- [ ] 비로그인 상태에서 `/admin` 접근 시 로그인 페이지로 리다이렉트된다.
- [ ] `editor`는 편집/저장만 가능하고 publish/delete/restore는 차단된다.
- [ ] `publisher`는 publish/delete/restore를 수행할 수 있다.
- [ ] 세션 만료 시 사용자에게 재로그인 경로가 명확히 안내된다.

#### B. 콘텐츠 라이프사이클

- [ ] 페이지 생성/수정/저장/재접속 시 데이터가 일관되게 유지된다.
- [ ] preview URL은 draft를 정확히 반영하고 공개 URL은 발행 규칙을 따른다.
- [ ] 리비전이 누락 없이 증가하며, 복원 시 대상 버전으로 정확히 되돌아간다.
- [ ] restore/publish/delete 실행 전 명시적 확인(confirm) 절차가 존재한다.

#### C. 동시성/안전성

- [ ] 동일 페이지를 2개 세션에서 수정할 때 stale write가 감지된다.
- [ ] stale 감지 시 사용자 메시지가 이해 가능하고 다음 액션이 분명하다.
- [ ] 복원/발행 중 실패 시 오류 메시지가 노출되고 데이터 손실이 없다.

#### D. 운영성

- [ ] 핵심 관리자 액션(저장/발행/복원/삭제)에 대한 로그 추적이 가능하다.
- [ ] 주요 실패 케이스에서 원인 파악 가능한 오류 정보가 남는다.

### Phase B 체크리스트

#### A. 에디터 신뢰성

- [ ] 웹페이지 복붙 텍스트에 `Text Color` 적용이 안정적으로 동작한다.
- [ ] 웹페이지 복붙 텍스트에 `Highlight` 적용이 안정적으로 동작한다.
- [ ] 테이블 `Border Color`가 즉시 시각적으로 반영되고 저장 후 유지된다.
- [ ] 테이블 `Border Width`가 즉시 반영되고 저장 후 유지된다.
- [ ] 테이블 `Cell BG`/정렬/보더 숨김-복원이 저장 후에도 유지된다.

#### B. 에디터 사용성

- [ ] 첫 사용자도 툴바 라벨만으로 기능 목적을 추론할 수 있다.
- [ ] 이미지/테이블 컨텍스트 액션이 필요한 시점에만 노출되어 복잡도가 낮다.
- [ ] 주요 액션에 툴팁이 제공되고 의미 중복/약어 혼선이 없다.

#### C. 저장 충실도

- [ ] 편집 결과(뷰)와 저장된 HTML/JSON이 불일치하지 않는다.
- [ ] 새로고침/재진입 후에도 서식과 구조가 동일하게 복원된다.

#### D. 회귀 방지

- [ ] 수동 QA 시나리오(복붙/테이블/이미지/리비전 복원)를 주기적으로 통과한다.
- [ ] 최소 smoke e2e 테스트가 CI에서 실행된다.
- [ ] 최근 수정 영역(TiptapEditor 및 하위 모듈)에 대한 회귀 케이스가 추가되었다.

### 최종 완료 판정 체크

- [ ] Phase A 체크리스트 전체 완료
- [ ] Phase B 체크리스트 전체 완료
- [ ] P0 이슈 0건
- [ ] P1 이슈 허용 범위 내
- [ ] 근거 링크(테스트 결과/PR/로그)가 문서에 첨부됨
